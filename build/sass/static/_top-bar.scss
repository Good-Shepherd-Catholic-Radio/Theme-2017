.top-bar {
    
    font-weight: 600;
    position: relative;
	
	@media #{$medium-up} {
	
		padding: 1.5rem 1rem;
		
	}
    
    // Phablet Landscape and Portrait iPad Fix
    @media screen and (max-width: 733px) and (orientation: landscape), #{$medium-only} and (orientation: portrait) {
        
        .show-for-small-only {
            display: inline-block !important;
        }
        
        .hide-for-small-only {
            display: none;
        }
        
    }
    
    .top-bar-title {
        
        overflow: hidden;
        font-family: $header-font-family;
		padding-top: 0;
		
		.menu-icon-text {
			color: $titlebar-icon-color;
		}
        
        a {
			
			padding: $menu-item-padding;
            
        }
        
    }
	
	.sticky-stream {

		.jp-audio-stream {

			background: transparent;
			padding: 0;
			width: auto;
			border-top: none;

			.fa {
				color: $quaternary-color;
			}
			
			.jp-details {
				margin-left: 4%;
				color: $titlebar-icon-color;
			}

			.jp-mute {

				.mute-icon {

					color: $titlebar-icon-color;

				}

			}

			&.jp-state-muted {

				.jp-mute {

					.mute-icon {

						color: $quaternary-color;

					}

				}

			}

			.jp-volume-controls {

				.volume-bar-container {

					.jp-volume-bar {
						background-color: $titlebar-icon-color;
					}

					.jp-volume-bar-value {
						background-color: $quaternary-color;
					}

				}

			}

			.jp-volume-max {

				.volume-max-icon {

					color: $titlebar-icon-color;

				}

			}

			.jp-volume-max:focus {

				.volume-max-icon {

					color: $quaternary-color;

				}

			}

		}

	}

    .nav-menu {
        position: absolute;
        right: 2%;
        top: 50%;
        transform: translate( -2%, -50% );
        -webkit-transform: translate( -2%, -50% );
        -o-transform: translate( -2%, -50% );
        -ms-transform: translate( -2%, -50% );
        z-index: 2;
        
        .fa {
            margin-top: -0.5em; 
        }

        > .dropdown.menu {
            
            background: transparent;

            > .current-menu-item, > .current-menu-ancestor {

                > a {
                    color: scale-color( $quaternary-color, $lightness: 25% );
                }

                &.is-dropdown-submenu-parent {

                    > a:after {

                        border-top-color: scale-color( $quaternary-color, $lightness: 25% ) !important;

                    }

                }
            }
            
            > .is-dropdown-submenu-parent {

                > a:after {
                    border-top-color: $topbar-link-color;
                }

                &:hover > a:after {

                    @if lightness( darken( $topbar-background, 10% ) ) < 65% {

                        border-top-color: $light-color;

                    }
                    @else {

                        border-top-color: $dark-color;

                    }

                }
                
                .is-dropdown-submenu-parent {
                    
                    a:after {

                        @if lightness( $body-background ) < 65% {

                            border-right-color: $light-color;

                        }
                        @else {

                            border-right-color: $dark-color;

                        }
                        
                    }

                    // Top Level:hover
                    &:hover > a:after {

                        @if lightness( darken( $topbar-background, 10% ) ) < 65% {

                            border-right-color: $dark-color;

                        }
                        @else {

                            border-right-color: $light-color;

                        }

                    }

                }

            }

        }

        > .menu {
            
            // All levels
            li {
                
                &.is-dropdown-submenu-parent {
                    
                    > a:after {
                        border-width: 4px;
                        right: 10px;
                    }
                    
                }
                
            }

            // Top Level
            > li {
                
                a {
                    color: $topbar-link-color;
                }
            
                &:hover {
                    background-color: lighten( $topbar-background, 5% ) !important;
					border-radius: 0.25em;

                    > a {
                        @include light-or-dark-text( $topbar-background );
                    }
                
                }

            }

            // Everything below
            > li {

                li {
                    
                    background-color: $body-background;
                    text-transform: none;
                    
                    a {
                        @include light-or-dark-text( $dropdownmenu-background );
                    }
                    
                }

                li:hover {
                    background-color: $light-gray !important;

                    > a {
                        @include light-or-dark-text( $light-gray );
                    }

                }

            }

            > li li.current-menu-item, > li li.current-menu-ancestor {

                background-color: darken( $light-gray, 10% );

                > a {
                    @include light-or-dark-text( darken( $light-gray, 10% ) );
                }

            }

        }

    }
	
	// Holds the little rounded edges and Triangle thing for immediate children of the top-level
	@import "top-bar-menu";

}